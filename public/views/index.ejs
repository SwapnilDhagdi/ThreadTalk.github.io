<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link rel="stylesheet" href="/css/style.css">
    <link
    href="https://cdn.jsdelivr.net/npm/remixicon@4.5.0/fonts/remixicon.css"
    rel="stylesheet"
    />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
    <div class="overlay " style="display: none;">
       
<svg class="pl" width="240" height="240" viewBox="0 0 240 240">
	<circle class="pl__ring pl__ring--a" cx="120" cy="120" r="105" fill="none" stroke="#000" stroke-width="20" stroke-dasharray="0 660" stroke-dashoffset="-330" stroke-linecap="round"></circle>
	<circle class="pl__ring pl__ring--b" cx="120" cy="120" r="35" fill="none" stroke="#000" stroke-width="20" stroke-dasharray="0 220" stroke-dashoffset="-110" stroke-linecap="round"></circle>
	<circle class="pl__ring pl__ring--c" cx="85" cy="120" r="70" fill="none" stroke="#000" stroke-width="20" stroke-dasharray="0 440" stroke-linecap="round"></circle>
	<circle class="pl__ring pl__ring--d" cx="155" cy="120" r="70" fill="none" stroke="#000" stroke-width="20" stroke-dasharray="0 440" stroke-linecap="round"></circle>
</svg>
    </div>
    <nav class="nav_bar">
        <div class="nav-logo">
            <div class="nav-img">
            
            </div>
            <div class="nav-logo-name">
               ThreadTalk
            </div>
        </div>
        <div class="search_bar">
            <form action="submit"> 
                <input type="text" placeholder="search title" class="title_input"> 
                <div> 
                    <ul class="title_suggestion">
                    </ul>
                </div>
            </form>
        </div>
        <div class="info">
            <div class="notification_btn border">
                Notification <i class="ri-notification-3-fill"></i>
            </div>
            <div class="dropdown">
               
                <button class="dropbtn">Accounts</button>
                <div class="dropdown-content">
               
                <%if(islogin){%>
                    <a href="/myaccount">My posts</a>
                <%}else{%>
                    <button onclick="location.href='./form'" class="btn btn_signin">
                        Sign Up
                    </button>
                <%}%>
                <a href="#">Link</a>
                <a href="/logout">LogOut</a>
                </div>
              </div>
        </div>
    </nav>
    <div class="pannel">
        <div class="pannel-toggle border">
            <p>menu
            <i class="ri-menu-line"></i></p>  
        </div> 
        <div class="pannel-about border">
            <a href="about"> About</a> <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve">
                <g id="_x34_28_x2C__About_x2C__Info_x2C__Note_x2C__Question_x2C__Support">
                    <g id="XMLID_12489_">
                        <g id="XMLID_12490_">
                            <g id="XMLID_30580_">
                                <g id="XMLID_12492_">
                                    <path id="XMLID_12493_" style="fill:#4DABF4;" d="M265,340c13.81,0,25,11.19,25,25s-11.19,25-25,25c-13.81,0-25-11.19-25-25
                                        S251.19,340,265,340z"></path>
                                </g>
                                <g id="XMLID_12494_">
                                    <path id="XMLID_12495_" style="fill:#4DABF4;" d="M298,172.96c0,0.65-0.02,1.32-0.06,1.98L291.47,280
                                        c-0.83,14.01-12.43,24.96-26.47,24.96c-14.04,0-25.64-10.95-26.47-24.96l-6.48-105.06C230.94,155.98,246.01,140,265,140
                                        C283.32,140,298,154.88,298,172.96z"></path>
                                </g>
                                <g id="XMLID_12496_">
                                    <path id="XMLID_12497_" style="fill:#F06464;" d="M260,90c93.89,0,170,76.11,170,170c0,93.89-76.11,170-170,170
                                        c-93.89,0-170-76.11-170-170C90,166.11,166.11,90,260,90z M297.94,174.94c0.04-0.66,0.06-1.33,0.06-1.98
                                        c0-18.08-14.68-32.96-33-32.96c-18.99,0-34.06,15.98-32.95,34.94L238.53,280c0.83,14.01,12.43,24.96,26.47,24.96
                                        c14.04,0,25.64-10.95,26.47-24.96L297.94,174.94z M290,365c0-13.81-11.19-25-25-25c-13.81,0-25,11.19-25,25s11.19,25,25,25
                                        C278.81,390,290,378.81,290,365z"></path>
                                </g>
                                <g id="XMLID_12501_">
                                    <path id="XMLID_12502_" style="fill:#FBC41A;" d="M260,30c127.03,0,230,102.97,230,230c0,127.03-102.97,230-230,230
                                        C132.97,490,30,387.03,30,260C30,132.97,132.97,30,260,30z M430,260c0-93.89-76.11-170-170-170c-93.89,0-170,76.11-170,170
                                        c0,93.89,76.11,170,170,170C353.89,430,430,353.89,430,260z"></path>
                                </g>
                            </g>
                            <g id="XMLID_12491_">
                                <g id="XMLID_12505_">
                                    <path id="XMLID_12506_" d="M260,500c-64.108,0-124.378-24.964-169.707-70.293C44.964,384.379,20,324.108,20,260
                                        S44.964,135.622,90.293,90.293C135.622,44.964,195.892,20,260,20s124.379,24.964,169.707,70.293
                                        C475.036,135.622,500,195.892,500,260s-24.964,124.379-70.293,169.707C384.379,475.036,324.108,500,260,500z M260,40
                                        C138.691,40,40,138.691,40,260s98.691,220,220,220s220-98.691,220-220S381.309,40,260,40z"></path>
                                </g>
                                <g id="XMLID_12509_">
                                    <path id="XMLID_12510_" d="M260,440c-99.252,0-180-80.748-180-180c0-99.252,80.748-180,180-180c99.252,0,180,80.748,180,180
                                        C440,359.252,359.252,440,260,440z M260,100c-88.224,0-160,71.776-160,160c0,88.225,71.776,160,160,160
                                        c88.225,0,160-71.775,160-160C420,171.776,348.225,100,260,100z"></path>
                                </g>
                                <g id="XMLID_12513_">
                                    <path id="XMLID_12514_" d="M265,314.96c-19.299,0-35.311-15.097-36.453-34.368l-6.479-105.036
                                        c-0.701-11.979,3.435-23.354,11.646-32.059C241.923,134.794,253.034,130,265,130c23.71,0,43,19.272,43,42.96
                                        c0,0.863-0.026,1.733-0.078,2.585l-6.471,105.069C300.31,299.863,284.299,314.96,265,314.96z M265,150
                                        c-6.401,0-12.345,2.564-16.736,7.22c-4.393,4.657-6.605,10.743-6.231,17.136l6.478,105.029
                                        c0.518,8.744,7.76,15.575,16.489,15.575c8.728,0,15.971-6.831,16.487-15.552l6.472-105.083
                                        c0.027-0.449,0.041-0.914,0.041-1.365C288,160.3,277.683,150,265,150z"></path>
                                </g>
                                <g id="XMLID_12517_">
                                    <path id="XMLID_12518_" d="M265,400c-19.299,0-35-15.701-35-35s15.701-35,35-35s35,15.701,35,35S284.299,400,265,400z M265,350
                                        c-8.271,0-15,6.728-15,15s6.729,15,15,15c8.271,0,15-6.728,15-15S273.271,350,265,350z"></path>
                                </g>
                            </g>
                        </g>
                    </g>
                </g>
                <g id="Layer_1">
                </g>
                </svg>
            
        </div>
        <div class="pannel-contact border">
            <a href="#">contact</a><svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128"><defs><style>.cls-1{fill:#2d3e50;}.cls-2{fill:#1d75b8;}</style></defs><title>v</title><path class="cls-1" d="M82.87289,83.9591a7.82414,7.82414,0,0,0-8.31.60211l-5.9872,4.68343a2.81182,2.81182,0,0,1-2.86731.35916Q63.72666,88.73,61.73281,87.679A57.39135,57.39135,0,0,1,46.83248,76.91515,74.08485,74.08485,0,0,1,34.254,60.20019q-1.04644-1.99081-1.9248-3.97554a2.81184,2.81184,0,0,1,.35918-2.86729l4.68343-5.9872a7.8242,7.8242,0,0,0,.60211-8.31006C37.7677,38.67246,27.144,24.48971,26.876,24.20514a7.82078,7.82078,0,0,0-11.95573.763s-7.32853,9.01939-7.33265,9.02352c-13.50226,16.08807,2.74665,35.84248,13.791,47.8312,1.497,1.62489,5.36958,5.55928,9.27094,9.46065s7.83578,7.77393,9.46067,9.271c11.98874,11.0443,31.74313,27.29323,47.83535,13.791,0-.00413,9.01939-7.33265,9.01939-7.33265a7.81376,7.81376,0,0,0,.76294-11.9516C97.4433,94.78894,83.26055,84.1653,82.87289,83.9591Z"></path><path class="cls-2" d="M103.111,9.31258A29.12266,29.12266,0,0,0,69.07073,27.80742c-.42416,1.18556-10.32332,26.55007-13.58661,34.9089a1.4544,1.4544,0,0,0,1.71823,1.937l20.06772-5.16712A29.08257,29.08257,0,1,0,103.111,9.31258Z"></path></svg>
        </div>
        <%if(islogin){%>
            <button onclick="location.href='./post'" class="btn btn_post">
                Create Post
             </button>
        <%}else{%>
            <button onclick="location.href='./form'" class="btn btn_signin">
                Sign Up
            </button>
        <%}%>
    </div>
    <div class="Non_nav">
        <div class="sidebar">

           
           <div class="sidebar-content">
                <p>
                    Communities
                </p>
                <input type="text" name="" id="" placeholder="search" autocomplete="off" class="Communities_search">
                <div class="suggestion"> 
                    <ul class="suggestion_list">
                    </ul>
                </div> 
                <%if(islogin){%>
                    <button onclick="location.href='./community'" class="btn btn_post">
                        Create Community
                     </button>
                <%}else{%>
                   
                <%}%>
                <form action="" class="community_input">
                <div class="community_list">
                    <ul>
                       <%for(var i=0;i<community.length;i++){%>
                        <li class="communities" id="c<%=community[i].community_id%>">
                            <%= community[i].name%>
                        </li>
                        <%}%>
                    </ul>
                </div>
                </form>
          </div>
         
        </div>
        <div class="posts-section">
            <% if(data.length==0){%>
                <div class="post">
                    No posts today
                </div>
            <%}%>
            <% for(var i=0 ;i<data.length ;i++) {%>
            <div class="post" id="<%= data[i].pid%>">
                <div class="user">
                    user:-<%=data[i].uid%>
                
                 </div>
                 <div class="title">
                    Title:- <%=data[i].title%>;
                 </div>
                 <div class="description">
                    <p>
                        <%=data[i].description%>;
                    </p>
                 </div>
                 <%if(data[i].media){%>
                 <div class="media">
                    <img src="<%= data[i].media%> " alt="" class="media_img">
                 </div>
                 <%}else{%>

                    <%}%>
                 <div class="Votes">
                     <div class="upvote" id="<%=data[i].pid%>"> </div><p class="upvote_count"><%=data[i].likes%></p>
                     <div class="downvote" id="<%= data[i].pid%>"></div><p class="downvote_count"><%= data[i].dislikes%></p>
                     <div class="comment" id="<%= data[i].pid%>"></div>  
                 </div>
            </div>
            <%}%>
        </div>
        <div class="notification_sidebar">

           
            <div class="notification_sidebar_content">
               <p>
                Notification
               </p>
               <ul class="notification"> 
                <div style="width: 100%;">
                <% if(data.length==0){%>
                    <li>
                        No posts today
                    </li>
                <%}%>
                <% for(var i=0 ;i<data.length ;i++) {%>
              
                    <li>
                        <%= data[i].uid%> Just uploaded <br>
                        Title:-<%= data[i].title%>
                    </li>
                
                <%}%>
                </div>
               </ul>
           </div>
         </div>
    </div>
    <script src="/socket.io/socket.io.js"></script>
    <script src="../js/script.js" type="module"> </script> <!-- Correct path -->
</body>
</html>
